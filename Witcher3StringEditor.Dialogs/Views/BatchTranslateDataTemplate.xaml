<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:iwk="http://schemas.inkore.net/lib/ui/wpf"
    xmlns:l="clr-namespace:Witcher3StringEditor.Locales;assembly=Witcher3StringEditor.Locales"
    xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
    xmlns:vm="clr-namespace:Witcher3StringEditor.Dialogs.ViewModels">
    <DataTemplate x:Key="BatchTranslateDataTemplate" DataType="{x:Type vm:BatchItemsTranslationViewModel}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <iwk:SimpleStackPanel Spacing="16">
                <ComboBox
                    HorizontalAlignment="Stretch"
                    ui:ControlHelper.Header="{I18N {x:Static l:LangKeys.TextLanguage}}"
                    DisplayMemberPath="NativeName"
                    ItemsSource="{Binding Languages}"
                    SelectedValue="{Binding FormLanguage}" />
                <ComboBox
                    HorizontalAlignment="Stretch"
                    ui:ControlHelper.Header="{I18N {x:Static l:LangKeys.TargetLanguage}}"
                    DisplayMemberPath="NativeName"
                    ItemsSource="{Binding Languages}"
                    SelectedValue="{Binding ToLanguage}" />
                <ui:NumberBox
                    x:Name="StartIndexInput"
                    ui:ControlHelper.Header="{I18N {x:Static l:LangKeys.StartIndex}}"
                    Maximum="{Binding MaxValue, Mode=OneTime}"
                    Minimum="1"
                    SmallChange="1"
                    SpinButtonPlacementMode="Inline"
                    Value="{Binding StartIndex}" />
                <ui:NumberBox
                    x:Name="EndIndexInput"
                    ui:ControlHelper.Header="{I18N {x:Static l:LangKeys.EndIndex}}"
                    Maximum="{Binding MaxValue, Mode=OneTime}"
                    Minimum="{Binding EndIndexMin}"
                    SmallChange="1"
                    SpinButtonPlacementMode="Inline"
                    Value="{Binding EndIndex}" />
            </iwk:SimpleStackPanel>
            <StackPanel
                Grid.Row="1"
                Margin="0,16"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Orientation="Horizontal">
                <Ellipse
                    Width="35"
                    Height="35"
                    Fill="Green"
                    ToolTip="{I18N {x:Static l:LangKeys.Success}}" />
                <TextBlock
                    Width="Auto"
                    MinWidth="70"
                    Margin="8,0,16,0"
                    VerticalAlignment="Center"
                    FontSize="25"
                    Text="{Binding SuccessCount}"
                    TextAlignment="Center" />
                <Ellipse
                    Width="35"
                    Height="35"
                    Fill="Red"
                    ToolTip="{I18N {x:Static l:LangKeys.Failure}}" />
                <TextBlock
                    Width="Auto"
                    MinWidth="70"
                    Margin="8,0,16,0"
                    VerticalAlignment="Center"
                    FontSize="25"
                    Text="{Binding FailureCount}"
                    TextAlignment="Center" />
                <Ellipse
                    Width="35"
                    Height="35"
                    Fill="Orange"
                    ToolTip="{I18N {x:Static l:LangKeys.Pending}}" />
                <TextBlock
                    Width="Auto"
                    MinWidth="70"
                    Margin="8,0,16,0"
                    VerticalAlignment="Center"
                    FontSize="25"
                    Text="{Binding PendingCount}"
                    TextAlignment="Center" />
            </StackPanel>
            <iwk:SimpleStackPanel
                Grid.Row="2"
                HorizontalAlignment="Center"
                Orientation="Horizontal"
                Spacing="16">
                <Button
                    MinWidth="100"
                    Command="{Binding StartCommand}"
                    Content="{I18N {x:Static l:LangKeys.TranslateBtnContent}}">
                    <Button.Style>
                        <!-- ReSharper disable once Xaml.StaticResourceNotResolved -->
                        <Style BasedOn="{StaticResource DefaultButtonStyle}" TargetType="Button">
                            <Setter Property="IsEnabled" Value="False" />
                            <Style.Triggers>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition
                                            Binding="{Binding ElementName=StartIndexInput, Path=(Validation.HasError)}"
                                            Value="False" />
                                        <Condition
                                            Binding="{Binding ElementName=EndIndexInput, Path=(Validation.HasError)}"
                                            Value="False" />
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="IsEnabled" Value="True" />
                                </MultiDataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                <Button
                    MinWidth="100"
                    Command="{Binding CancelCommand}"
                    Content="{I18N {x:Static l:LangKeys.CancelBtnContent}}" />
            </iwk:SimpleStackPanel>
        </Grid>
    </DataTemplate>
</ResourceDictionary>